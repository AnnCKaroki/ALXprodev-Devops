#!/bin/bash

# Enable strict error handling
set -euo pipefail

# Files
OUTPUT_FILE="data.json"
ERROR_LOG="errors.txt"
POKEMON_NAME="pikachu"
API_URL="https://pokeapi.co/api/v2/pokemon/$POKEMON_NAME"

# Make the API request
echo "Fetching data for $POKEMON_NAME..."

if curl -s -f "$API_URL" -o "$OUTPUT_FILE"; then
  echo "Successfully saved data to $OUTPUT_FILE"
else
  echo "$(date): Failed to fetch data for $POKEMON_NAME from $API_URL" >> "$ERROR_LOG"
  echo "Error occurred. Check $ERROR_LOG for details."
fi
